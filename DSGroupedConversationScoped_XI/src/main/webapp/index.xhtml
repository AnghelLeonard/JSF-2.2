<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"        
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ds="http://deltaspike.apache.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>DS @GroupedConversationScoped</title>      
    </h:head>
    <h:body> 
        <ds:windowId/> 
        <h:panelGrid columns="1" style="border: solid 2px; width:50%; text-align: center;">
            <f:facet name="header">
                Conversation Group AB
            </f:facet>
            <h:form> 
                <h4>ConversationBeanA</h4>    
                A: #{conversationBeanA.a}           
                <h:commandButton value="Increase A" action="#{conversationBeanA.increaseA()}"/>                          
                <hr/>
                <h4>ConversationBeanB</h4>            
                B: #{conversationBeanB.b}            
                <h:commandButton value="Increase B" action="#{conversationBeanB.increaseB()}"/>                            
                <hr/>
                <h:panelGrid columns="2" cellspacing="5" style=" width:100%; text-align: center;">
                    <h:commandButton value="Stop conversation group from A" action="#{conversationBeanA.finish()}"/>
                    <h:commandButton value="Stop conversation group from B" action="#{conversationBeanB.finish()}"/>                    
                </h:panelGrid>
                <h:commandButton value="Stop conversation group AB from outside AB" action="#{outsideBeanAB.finish()}" style="background-color: greenyellow;"/>
            </h:form>  
        </h:panelGrid>
        <h:panelGrid columns="1" style="border: solid 2px; width:50%; text-align: center;">
            <f:facet name="header">
                View Scoped BeanC
            </f:facet>                
            <h:form>                       
                C: #{beanC.c}           
                <h:panelGrid columns="2" cellspacing="5" style="width:100%; text-align: center;">
                    <h:commandButton value="Increase C" action="#{beanC.increaseC()}"/>                                                                  
                    <h:commandButton value="Increase C With A and B" action="#{beanC.increaseCWithAandB()}" style="background-color: yellow;"/>                        
                </h:panelGrid>
            </h:form>  
        </h:panelGrid>                               
    </h:body>
</html>

